{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L6id:function(n,l,u){\"use strict\";u.r(l);var o=u(\"CcnG\"),t=function(){return function(){}}(),e=u(\"pMnS\"),i=u(\"oBZk\"),a=u(\"ZZ/e\"),s=u(\"Ip0R\"),r=u(\"mrSG\"),c=u(\"zA0m\"),b=u(\"t8sF\"),p=u(\"Pn9U\"),h=u(\"mzSf\"),d=u(\"Wcq6\"),f=(u(\"WI49\"),function(){function n(n,l,u,o,t,e){var i=this;this.barcodeScanner=n,this.http=l,this.camera=u,this.imageResizer=o,this.file=t,this.loadingController=e,this.json=[],this.inventario=[],this.dataBase=[],this.http.get(\"../../assets/data/data.json\").subscribe(function(n){i.json=JSON.parse(n.text())},function(n){return console.log(n)}),this.http.get(\"../../assets/data/inventario-denzil-escolar-export.json\").subscribe(function(n){i.dataBase=JSON.parse(n.text())},function(n){return console.log(n)})}return n.prototype.uploadDB=function(){return r.b(this,void 0,void 0,function(){var n,l,u,o,t,e;return r.e(this,function(i){switch(i.label){case 0:return n=this,[4,this.loadingController.create({message:\"Actualizado...\"})];case 1:return[4,(l=i.sent()).present()];case 2:for(u in i.sent(),this.json)this.inventario[u]={imagen:this.json[u].Imagen,tipo:this.json[u][\"Tipo de elemento\"],etiqueta:this.json[u].Etiqueta,ingreso:this.json[u][\"Marca temporal\"],email:this.json[u][\"Direcci\\xf3n de correo electr\\xf3nico\"],nombre:this.json[u][\"Nombre del articulo\"],cantidad:this.json[u].Cantidad,disponibilidad:this.json[u][\"Disponible para su uso\"],estado:this.json[u].estado,descripcion:this.json[u][\"Descripci\\xf3n\"],observaciones:this.json[u].Observaciones,valor:this.json[u][\"Valor unitario\"],serie:this.json[u].Serie,sede:this.json[u].Sede,ubicacion:this.json[u][\"Ubicaci\\xf3n\"],subUbicacion:this.json[u][\"Sub-Ubicaci\\xf3n\"]},o=this.buscakey(this.dataBase.sedes,this.json[u].Sede),t=this.buscakey(this.dataBase.ubicaciones[o],this.json[u][\"Ubicaci\\xf3n\"]),e=this.buscakey(this.dataBase.subUbicaciones[t],this.json[u][\"Sub-Ubicaci\\xf3n\"]),null!=o&&null!=t&&null!=e||console.log(\"item\",u,\"sede\",o,\"ubicacion\",t,\"sub-ubicacion\",e),d.database().ref(\"inventario/\"+e).push(n.inventario[u]);return l.dismiss(),[2]}})})},n.prototype.buscakey=function(n,l){for(var u in n)if(Object.values(n[u]).indexOf(l)>-1)return u},n.prototype.searchFor=function(n,l){var u=[];l=this.trimString(l);for(var o=0;o<n.length;o++)for(var t in n[o])-1!=n[o][t].indexOf(l)&&(this.itemExists(u,n[o])||u.push(n[o]));return u},n.prototype.trimString=function(n){for(var l=0,u=n.length-1;l<n.length&&\" \"==n[l];)l++;for(;u>l&&\" \"==n[u];)u-=1;return n.substring(l,u+1)},n.prototype.compareObjects=function(n,l){var u=\"\";for(u in n)if(n[u]!=l[u])return!1;for(u in l)if(n[u]!=l[u])return!1;return!0},n.prototype.itemExists=function(n,l){for(var u=0;u<n.length;u++)if(this.compareObjects(n[u],l))return!0;return!1},n.prototype.update=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(n){return[2]})})},n.prototype.camara=function(){var n=this;this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(function(l){n.imageResizer.resize({uri:l,quality:60,width:300,height:450}).then(function(l){n.Path=l,n.file.resolveLocalFilesystemUrl(l).then(function(l){l.file(function(l){var u=new FileReader;u.onload=function(l){n.Path=l.target.result},u.readAsDataURL(l)})}).catch(function(n){console.log(n)}),console.log(\"FilePath => \",l)}).catch(function(n){return console.log(n)})},function(n){console.log(n)})},n.prototype.startUpload=function(n){d.storage().ref(\"inventario\").putString(n,\"data_url\")},n.prototype.escaner=function(){var n=this;this.barcodeScanner.scan().then(function(l){n.scanData=l,console.log(\"Barcode data\",l)}).catch(function(n){console.log(\"Error\",n)})},n.prototype.csvJSON=function(n){for(var l=n.split(\"\\n\"),u=[],o=l[0].split(\",\"),t=1;t<l.length;t++){for(var e={},i=l[t].split(\",\"),a=0;a<o.length;a++)e[o[a]]=i[a];u.push(e)}return JSON.stringify(u)},n}()),m=u(\"sE5F\"),g=o.nb({encapsulation:0,styles:[[\".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}\"]],data:{}});function k(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,15,\"ion-item\",[[\"text-wrap\",\"\"]],null,null,null,i.W,i.r)),o.ob(1,49152,null,0,a.G,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,3,\"ion-thumbnail\",[[\"slot\",\"start\"]],null,null,null,i.hb,i.C)),o.ob(3,49152,null,0,a.xb,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,1,\"ion-img\",[],null,null,null,i.U,i.p)),o.ob(5,49152,null,0,a.C,[o.h,o.k],{src:[0,\"src\"]},null),(n()(),o.pb(6,0,null,0,1,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(7,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,u){var o=!0,t=n.component;return\"click\"===l&&(o=!1!==t.startUpload(t.Path)&&o),o},i.I,i.d)),o.ob(9,49152,null,0,a.j,[o.h,o.k],{fill:[0,\"fill\"]},null),(n()(),o.pb(10,0,null,0,1,\"ion-icon\",[[\"name\",\"cloud-upload\"],[\"slot\",\"icon-only\"]],null,null,null,i.T,i.o)),o.ob(11,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(12,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,u){var o=!0,t=n.component;return\"click\"===l&&(o=!1!==t.deleteImage(t.img,t.pos)&&o),o},i.I,i.d)),o.ob(13,49152,null,0,a.j,[o.h,o.k],{fill:[0,\"fill\"]},null),(n()(),o.pb(14,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"],[\"slot\",\"icon-only\"]],null,null,null,i.T,i.o)),o.ob(15,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null)],function(n,l){n(l,5,0,l.component.Path),n(l,9,0,\"clear\"),n(l,11,0,\"cloud-upload\"),n(l,13,0,\"clear\"),n(l,15,0,\"trash\")},null)}function v(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,15,\"ion-card\",[[\"class\",\"welcome-card\"]],null,null,null,i.O,i.f)),o.ob(1,49152,null,0,a.l,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,1,\"ion-img\",[[\"src\",\"/assets/shapes.svg\"]],null,null,null,i.U,i.p)),o.ob(3,49152,null,0,a.C,[o.h,o.k],{src:[0,\"src\"]},null),(n()(),o.pb(4,0,null,0,7,\"ion-card-header\",[],null,null,null,i.L,i.h)),o.ob(5,49152,null,0,a.n,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,2,\"ion-card-subtitle\",[],null,null,null,i.M,i.i)),o.ob(7,49152,null,0,a.o,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Barcode scaner\"])),(n()(),o.pb(9,0,null,0,2,\"ion-card-title\",[],null,null,null,i.N,i.j)),o.ob(10,49152,null,0,a.p,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Welcome to Ionic\"])),(n()(),o.pb(12,0,null,0,3,\"ion-card-content\",[],null,null,null,i.K,i.g)),o.ob(13,49152,null,0,a.m,[o.h,o.k],null,null),(n()(),o.pb(14,0,null,0,1,\"p\",[],null,null,null,null,null)),(n()(),o.Eb(15,null,[\"\",\"\"]))],function(n,l){n(l,3,0,\"/assets/shapes.svg\")},function(n,l){n(l,15,0,l.component.scanData.text)})}function j(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,10,\"ion-header\",[],null,null,null,i.S,i.n)),o.ob(1,49152,null,0,a.A,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,8,\"ion-toolbar\",[],null,null,null,i.jb,i.E)),o.ob(3,49152,null,0,a.Ab,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,i.J,i.e)),o.ob(5,49152,null,0,a.k,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,\"ion-menu-button\",[],null,null,null,i.Z,i.v)),o.ob(7,49152,null,0,a.Q,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,2,\"ion-title\",[],null,null,null,i.ib,i.D)),o.ob(9,49152,null,0,a.yb,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\" Home \"])),(n()(),o.pb(11,0,null,null,26,\"ion-content\",[],null,null,null,i.P,i.k)),o.ob(12,49152,null,0,a.t,[o.h,o.k],null,null),(n()(),o.pb(13,0,null,0,6,\"ion-button\",[[\"expand\",\"block\"]],null,[[null,\"click\"]],function(n,l,u){var o=!0;return\"click\"===l&&(o=!1!==n.component.escaner()&&o),o},i.I,i.d)),o.ob(14,49152,null,0,a.j,[o.h,o.k],{expand:[0,\"expand\"]},null),(n()(),o.pb(15,0,null,0,1,\"ion-icon\",[[\"name\",\"build\"],[\"slot\",\"start\"]],null,null,null,i.T,i.o)),o.ob(16,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(17,0,null,0,2,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(18,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Scan QR code App\"])),(n()(),o.pb(20,0,null,0,6,\"ion-button\",[[\"expand\",\"block\"]],null,[[null,\"click\"]],function(n,l,u){var o=!0;return\"click\"===l&&(o=!1!==n.component.camara()&&o),o},i.I,i.d)),o.ob(21,49152,null,0,a.j,[o.h,o.k],{expand:[0,\"expand\"]},null),(n()(),o.pb(22,0,null,0,1,\"ion-icon\",[[\"color\",\"medium\"],[\"name\",\"build\"],[\"slot\",\"start\"]],null,null,null,i.T,i.o)),o.ob(23,49152,null,0,a.B,[o.h,o.k],{color:[0,\"color\"],name:[1,\"name\"]},null),(n()(),o.pb(24,0,null,0,2,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(25,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Camara\"])),(n()(),o.pb(27,0,null,0,6,\"ion-button\",[[\"expand\",\"block\"]],null,[[null,\"click\"]],function(n,l,u){var o=!0;return\"click\"===l&&(o=!1!==n.component.uploadDB()&&o),o},i.I,i.d)),o.ob(28,49152,null,0,a.j,[o.h,o.k],{expand:[0,\"expand\"]},null),(n()(),o.pb(29,0,null,0,1,\"ion-icon\",[[\"name\",\"build\"],[\"slot\",\"start\"]],null,null,null,i.T,i.o)),o.ob(30,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(31,0,null,0,2,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(32,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Upload Data Base JSON\"])),(n()(),o.gb(16777216,null,0,1,null,k)),o.ob(35,16384,null,0,s.i,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null),(n()(),o.gb(16777216,null,0,1,null,v)),o.ob(37,16384,null,0,s.i,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null)],function(n,l){var u=l.component;n(l,14,0,\"block\"),n(l,16,0,\"build\"),n(l,21,0,\"block\"),n(l,23,0,\"medium\",\"build\"),n(l,28,0,\"block\"),n(l,30,0,\"build\"),n(l,35,0,u.Path),n(l,37,0,u.scanData)},null)}function x(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,\"app-home\",[],null,null,null,j,g)),o.ob(1,49152,null,0,f,[c.a,m.d,p.a,h.a,b.a,a.Eb],null,null)],null,null)}var y=o.lb(\"app-home\",f,x,{},{},[]),S=u(\"gIcY\"),E=u(\"ZYCi\");u.d(l,\"HomePageModuleNgFactory\",function(){return I});var I=o.mb(t,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[e.a,y]],[3,o.j],o.x]),o.xb(4608,s.k,s.j,[o.u,[2,s.r]]),o.xb(4608,S.o,S.o,[]),o.xb(4608,a.b,a.b,[o.z,o.g]),o.xb(4608,a.Fb,a.Fb,[a.b,o.j,o.q]),o.xb(4608,a.Jb,a.Jb,[a.b,o.j,o.q]),o.xb(1073742336,s.b,s.b,[]),o.xb(1073742336,S.m,S.m,[]),o.xb(1073742336,S.f,S.f,[]),o.xb(1073742336,a.Cb,a.Cb,[]),o.xb(1073742336,E.o,E.o,[[2,E.u],[2,E.m]]),o.xb(1073742336,t,t,[]),o.xb(1024,E.k,function(){return[[{path:\"\",component:f}]]},[])])})}}]);","extractedComments":[]}