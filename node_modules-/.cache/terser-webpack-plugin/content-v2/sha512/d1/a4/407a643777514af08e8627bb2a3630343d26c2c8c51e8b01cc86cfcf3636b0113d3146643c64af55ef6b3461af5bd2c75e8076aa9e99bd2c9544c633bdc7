{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{auGm:function(n,l,o){\"use strict\";o.r(l);var t=o(\"CcnG\"),i=o(\"mrSG\"),e=o(\"ZZ/e\"),u=o(\"Wcq6\"),a=function(){function n(n,l,o,t,i,e){this.plataforma=n,this.route=l,this.router=o,this.navCtrl=t,this.alertController=i,this.http=e,this.articulos=[],this.sede={},this.ubicacion={},this.SubUbicacion={},this.inventario={};var a=this;this.SubUbicacion.nombre=this.route.snapshot.paramMap.get(\"SubUbicacionNombre\"),this.SubUbicacion.key=this.route.snapshot.paramMap.get(\"SubUbicacionkey\"),this.ubicacion.nombre=this.route.snapshot.paramMap.get(\"ubicacionNombre\"),this.ubicacion.key=this.route.snapshot.paramMap.get(\"ubicacionkey\"),this.sede.nombre=this.route.snapshot.paramMap.get(\"sedeNombre\"),this.sede.key=this.route.snapshot.paramMap.get(\"sedekey\"),a.inventario.numArticulos=0,a.inventario.buenos=0,a.inventario.malos=0,a.inventario.regulares=0,u.database().ref(\"inventario/\"+this.SubUbicacion.key).on(\"value\",function(n){a.articulos=[];var l={};a.inventario.numArticulos=n.numChildren(),n.forEach(function(n){(l=n.val()).key=n.key,a.articulos.push(l)}),a.inventario.articulos=a.articulos,a.articulost=a.articulos}),u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Bueno\").on(\"value\",function(n){a.inventario.buenos=n.numChildren(),console.log(\"b\",a.inventario)}),u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Malo\").on(\"value\",function(n){a.inventario.malos=n.numChildren(),console.log(\"m\",a.inventario)}),u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Regular\").on(\"value\",function(n){a.inventario.regulares=n.numChildren(),console.log(\"r\",a.inventario)})}return n.prototype.total=function(){var n=this;u.database().ref(\"inventario/\"+this.SubUbicacion.key).on(\"value\",function(l){n.articulos=[];var o={};n.inventario.numArticulos=l.numChildren(),l.forEach(function(l){(o=l.val()).key=l.key,n.articulos.push(o)}),n.inventario.articulos=n.articulos,n.articulost=n.articulos})},n.prototype.Buenos=function(){var n=this;u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Bueno\").once(\"value\",function(l){n.inventario.buenos=l.numChildren(),n.articulos=[];var o={};l.forEach(function(l){(o=l.val()).key=l.key,n.articulos.push(o)}),n.inventario.articulos=n.articulos,n.articulost=n.articulos})},n.prototype.Malos=function(){var n=this;u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Malo\").once(\"value\",function(l){n.inventario.malos=l.numChildren(),n.articulos=[];var o={};l.forEach(function(l){(o=l.val()).key=l.key,n.articulos.push(o)}),n.inventario.articulos=n.articulos,n.articulost=n.articulos})},n.prototype.Regular=function(){var n=this;u.database().ref(\"inventario/\"+this.SubUbicacion.key).orderByChild(\"estado\").equalTo(\"Regular\").once(\"value\",function(l){n.inventario.regulares=l.numChildren(),n.articulos=[];var o={};l.forEach(function(l){(o=l.val()).key=l.key,n.articulos.push(o)}),n.inventario.articulos=n.articulos,n.articulost=n.articulos})},n.prototype.ingresoNuevo=function(){console.log(this.sede,this.ubicacion,this.SubUbicacion),this.navCtrl.navigateForward([\"articulo-ingreso\",{SubUbicacionNombre:this.SubUbicacion.nombre,SubUbicacionkey:this.SubUbicacion.key,ubicacionNombre:this.ubicacion.nombre,ubicacionkey:this.ubicacion.key,sedeNombre:this.sede.nombre,sedekey:this.sede.key}])},n.prototype.onInput=function(n){this.articulos=this.articulost;var l=n.target.value;l&&\"\"!=l.trim()&&(this.articulos=this.articulos.filter(function(n){return n.nombre.toLowerCase().indexOf(l.toLowerCase())>-1}))},n.prototype.open=function(n){this.navCtrl.navigateForward([\"view-articulo\",{articuloNombre:n.nombre,articulokey:n.key,SubUbicacionNombre:this.SubUbicacion.nombre,SubUbicacionkey:this.SubUbicacion.key,ubicacionNombre:this.ubicacion.nombre,ubicacionkey:this.ubicacion.key,sede:this.sede}])},n.prototype.Editarticulo=function(n){return i.b(this,void 0,void 0,function(){var l,o=this;return i.e(this,function(t){switch(t.label){case 0:return l=this.articulos.indexOf(n),[4,this.alertController.create({header:\"Ediar la articulo \"+n.nombre+\" !\",inputs:[{name:\"articulo\",type:\"text\",value:n.nombre,placeholder:\"Nombre de la articulo\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Edit Cancel\")}},{text:\"Ok\",handler:function(t){console.log(l),u.database().ref(\"articulos\"+n.key+\"/nombre\").set(t.articulo),console.log(\"Edit Ok\",o.articulos)}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.Createarticulo=function(){return i.b(this,void 0,void 0,function(){var n=this;return i.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:\"articulo!\",inputs:[{name:\"articulo\",type:\"text\",placeholder:\"Nombre de la articulo\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Crear Cancel\")}},{text:\"Ok\",handler:function(l){u.database().ref(\"articulos\").push({nombre:l.articulo,cantidad:0}),console.log(\"Crear Ok\",n.articulos)}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.Removearticulo=function(n){return i.b(this,void 0,void 0,function(){return i.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:\"Cuidado!\",message:\"Se <strong>eliminar\\xe1</strong> la articulo \"+n.nombre+\" !!!\",buttons:[{text:\"cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(n){console.log(\"Eliminar Cancel: blah\")}},{text:\"eliminar\",handler:function(){u.database().ref(\"articulos/\"+n.key).remove(),console.log(\"Eliminar Okay\")}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})},n.prototype.ngOnInit=function(){},n}(),r=function(){return function(){}}(),c=o(\"pMnS\"),s=o(\"oBZk\"),b=o(\"gIcY\"),h=o(\"Ip0R\"),d=o(\"ZYCi\"),p=o(\"sE5F\"),v=t.nb({encapsulation:0,styles:[[\"ion-label[_ngcontent-%COMP%]{white-space:pre-wrap}ion-badge[_ngcontent-%COMP%]{margin:7px;height:2em;padding:6.5px}ion-fab[_ngcontent-%COMP%]{margin:1em}\"]],data:{}});function m(n){return t.Fb(0,[(n()(),t.pb(0,0,null,null,8,\"ion-item\",[[\"text-wrap\",\"\"]],null,null,null,s.W,s.r)),t.ob(1,49152,null,0,e.G,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,3,\"ion-thumbnail\",[[\"slot\",\"start\"]],null,null,null,s.hb,s.C)),t.ob(3,49152,null,0,e.xb,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,1,\"ion-img\",[],null,null,null,s.U,s.p)),t.ob(5,49152,null,0,e.C,[t.h,t.k],{src:[0,\"src\"]},null),(n()(),t.pb(6,0,null,0,2,\"ion-label\",[],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.open(n.context.$implicit)&&t),t},s.X,s.s)),t.ob(7,49152,null,0,e.M,[t.h,t.k],null,null),(n()(),t.Eb(8,0,[\" \",\" \"]))],function(n,l){n(l,5,0,l.context.$implicit.imagen)},function(n,l){n(l,8,0,l.context.$implicit.nombre)})}function f(n){return t.Fb(0,[(n()(),t.pb(0,0,null,null,31,\"ion-header\",[],null,null,null,s.S,s.n)),t.ob(1,49152,null,0,e.A,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,11,\"ion-toolbar\",[],null,null,null,s.jb,s.E)),t.ob(3,49152,null,0,e.Ab,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,6,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,s.J,s.e)),t.ob(5,49152,null,0,e.k,[t.h,t.k],null,null),(n()(),t.pb(6,0,null,0,1,\"ion-menu-button\",[],null,null,null,s.Z,s.v)),t.ob(7,49152,null,0,e.Q,[t.h,t.k],null,null),(n()(),t.pb(8,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],function(n,l,o){var i=!0;return\"click\"===l&&(i=!1!==t.zb(n,10).onClick(o)&&i),i},s.G,s.b)),t.ob(9,49152,null,0,e.f,[t.h,t.k],null,null),t.ob(10,16384,null,0,e.g,[[2,e.gb],e.Gb],null,null),(n()(),t.pb(11,0,null,0,2,\"ion-title\",[],null,null,null,s.ib,s.D)),t.ob(12,49152,null,0,e.yb,[t.h,t.k],null,null),(n()(),t.Eb(13,0,[\"Inventario de \",\"\"])),(n()(),t.pb(14,0,null,0,3,\"ion-searchbar\",[[\"animated\",\"\"]],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],function(n,l,o){var i=!0,e=n.component;return\"ionBlur\"===l&&(i=!1!==t.zb(n,17)._handleBlurEvent()&&i),\"ionChange\"===l&&(i=!1!==t.zb(n,17)._handleInputEvent(o.target.value)&&i),\"ionChange\"===l&&(i=!1!==e.onInput(o)&&i),i},s.cb,s.x)),t.Bb(5120,null,b.g,function(n){return[n]},[e.Mb]),t.ob(16,49152,null,0,e.ib,[t.h,t.k],{animated:[0,\"animated\"]},null),t.ob(17,16384,null,0,e.Mb,[t.k],null,null),(n()(),t.pb(18,0,null,0,13,\"ion-item\",[],null,null,null,s.W,s.r)),t.ob(19,49152,null,0,e.G,[t.h,t.k],null,null),(n()(),t.pb(20,0,null,0,2,\"ion-badge\",[[\"color\",\"secondary\"]],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.total()&&t),t},s.H,s.c)),t.ob(21,49152,null,0,e.i,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.Eb(22,0,[\"Total \",\"\"])),(n()(),t.pb(23,0,null,0,2,\"ion-badge\",[[\"color\",\"success\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.Buenos()&&t),t},s.H,s.c)),t.ob(24,49152,null,0,e.i,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.Eb(25,0,[\"Buenos \",\"\"])),(n()(),t.pb(26,0,null,0,2,\"ion-badge\",[[\"color\",\"warning\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.Regular()&&t),t},s.H,s.c)),t.ob(27,49152,null,0,e.i,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.Eb(28,0,[\"Regular \",\"\"])),(n()(),t.pb(29,0,null,0,2,\"ion-badge\",[[\"color\",\"danger\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.Malos()&&t),t},s.H,s.c)),t.ob(30,49152,null,0,e.i,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.Eb(31,0,[\"Malos \",\"\"])),(n()(),t.pb(32,0,null,null,9,\"ion-content\",[],null,null,null,s.P,s.k)),t.ob(33,49152,null,0,e.t,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,m)),t.ob(35,278528,null,0,h.h,[t.O,t.L,t.s],{ngForOf:[0,\"ngForOf\"]},null),(n()(),t.pb(36,0,null,0,5,\"ion-fab\",[[\"horizontal\",\"end\"],[\"slot\",\"fixed\"],[\"vertical\",\"bottom\"]],null,null,null,s.R,s.l)),t.ob(37,49152,null,0,e.v,[t.h,t.k],{horizontal:[0,\"horizontal\"],vertical:[1,\"vertical\"]},null),(n()(),t.pb(38,0,null,0,3,\"ion-fab-button\",[],null,[[null,\"click\"]],function(n,l,o){var t=!0;return\"click\"===l&&(t=!1!==n.component.ingresoNuevo()&&t),t},s.Q,s.m)),t.ob(39,49152,null,0,e.w,[t.h,t.k],null,null),(n()(),t.pb(40,0,null,0,1,\"ion-icon\",[[\"name\",\"add\"]],null,null,null,s.T,s.o)),t.ob(41,49152,null,0,e.B,[t.h,t.k],{name:[0,\"name\"]},null)],function(n,l){var o=l.component;n(l,16,0,\"\"),n(l,21,0,\"secondary\"),n(l,24,0,\"success\"),n(l,27,0,\"warning\"),n(l,30,0,\"danger\"),n(l,35,0,o.articulos),n(l,37,0,\"end\",\"bottom\"),n(l,41,0,\"add\")},function(n,l){var o=l.component;n(l,13,0,o.SubUbicacion.nombre),n(l,22,0,o.inventario.numArticulos),n(l,25,0,o.inventario.buenos),n(l,28,0,o.inventario.regulares),n(l,31,0,o.inventario.malos)})}function k(n){return t.Fb(0,[(n()(),t.pb(0,0,null,null,1,\"app-inventario-sububicacion\",[],null,null,null,f,v)),t.ob(1,114688,null,0,a,[e.Ib,d.a,d.m,e.Gb,e.a,p.d],null,null)],function(n,l){n(l,1,0)},null)}var g=t.lb(\"app-inventario-sububicacion\",a,k,{},{},[]);o.d(l,\"InventarioSububicacionPageModuleNgFactory\",function(){return y});var y=t.mb(r,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[c.a,g]],[3,t.j],t.x]),t.xb(4608,h.k,h.j,[t.u,[2,h.r]]),t.xb(4608,b.o,b.o,[]),t.xb(4608,e.b,e.b,[t.z,t.g]),t.xb(4608,e.Fb,e.Fb,[e.b,t.j,t.q]),t.xb(4608,e.Jb,e.Jb,[e.b,t.j,t.q]),t.xb(1073742336,h.b,h.b,[]),t.xb(1073742336,b.m,b.m,[]),t.xb(1073742336,b.f,b.f,[]),t.xb(1073742336,e.Cb,e.Cb,[]),t.xb(1073742336,d.o,d.o,[[2,d.u],[2,d.m]]),t.xb(1073742336,r,r,[]),t.xb(1024,d.k,function(){return[[{path:\"\",component:a}]]},[])])})}}]);","extractedComments":[]}