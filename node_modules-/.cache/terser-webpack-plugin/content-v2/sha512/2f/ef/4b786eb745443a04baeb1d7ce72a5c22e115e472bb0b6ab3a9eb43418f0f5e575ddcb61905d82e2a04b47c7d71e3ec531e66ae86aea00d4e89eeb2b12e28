{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{hM45:function(n,l,e){\"use strict\";e.r(l);var t=e(\"CcnG\"),o=e(\"mrSG\"),u=e(\"ZZ/e\"),i=e(\"Wcq6\"),r=(e(\"iTTW\"),function(){function n(n,l,e,t,o){this.plataforma=n,this.router=l,this.navCtrl=e,this.alertController=t,this.http=o,this.sedes=[],this.contador={};var u=this;i.database().ref(\"sedes\").on(\"value\",function(n){u.sedes=[];var l={};u.cantidad=n.numChildren(),u.contador.sede=0,n.forEach(function(n){(l=n.val()).key=n.key,u.contador.sede+=n.val().cantidad,u.sedes.push(l)}),u.sedest=u.sedes})}return n.prototype.onInput=function(n){this.sedes=this.sedest;var l=n.target.value;l&&\"\"!=l.trim()&&(this.sedes=this.sedes.filter(function(n){return n.toLowerCase().indexOf(l.toLowerCase())>-1}))},n.prototype.open=function(n){this.navCtrl.navigateForward([\"ubicaciones\",{sedeNombre:n.nombre,sedekey:n.key}])},n.prototype.Editsede=function(n){return o.b(this,void 0,void 0,function(){var l,e=this;return o.e(this,function(t){switch(t.label){case 0:return l=this.sedes.indexOf(n),[4,this.alertController.create({header:\"Ediar la sede \"+n.nombre+\" !\",inputs:[{name:\"sede\",type:\"text\",value:n.nombre,placeholder:\"Nombre de la sede\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Edit Cancel\")}},{text:\"Ok\",handler:function(t){return o.b(e,void 0,void 0,function(){return o.e(this,function(e){switch(e.label){case 0:return console.log(l),[4,i.functions().httpsCallable(\"Editsedes\")({sede:t.sede,key:n.key}).then(function(n){console.log(\"Archivo eliminado: \",n)}).catch(function(n){console.log(\"Archivo eliminado error: \",n)})];case 1:return e.sent(),[2]}})})}}]})];case 1:return t.sent().present(),[2]}})})},n.prototype.CreateSede=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:\"sede!\",inputs:[{name:\"sede\",type:\"text\",placeholder:\"Nombre de la sede\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Crear Cancel\")}},{text:\"Ok\",handler:function(l){return o.b(n,void 0,void 0,function(){return o.e(this,function(n){switch(n.label){case 0:return[4,i.functions().httpsCallable(\"CreateSedes\")({sede:l.sede,key:\"sedes\"}).then(function(n){console.log(\"Archivo creado: \",n)}).catch(function(n){console.log(\"Error en crear Archivo: \",n)})];case 1:return n.sent(),[2]}})})}}]})];case 1:return l.sent().present(),[2]}})})},n.prototype.RemoveSede=function(n){return o.b(this,void 0,void 0,function(){var l=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:\"Cuidado!\",message:\"Se <strong>eliminar\\xe1</strong> la sede \"+n.nombre+\" !!!\",buttons:[{text:\"cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(n){console.log(\"Eliminar Cancel: blah\")}},{text:\"eliminar\",handler:function(){return o.b(l,void 0,void 0,function(){return o.e(this,function(l){switch(l.label){case 0:return[4,i.functions().httpsCallable(\"RemoveSedes\")({sede:n.nombre,key:n.key}).then(function(n){console.log(\"Archivo eliminado: \",n)}).catch(function(n){console.log(\"Archivo eliminado error: \",n)})];case 1:return l.sent(),[2]}})})}}]})];case 1:return e.sent().present(),[2]}})})},n.prototype.ngOnInit=function(){},n}()),a=function(){return function(){}}(),c=e(\"pMnS\"),s=e(\"oBZk\"),b=e(\"Ip0R\"),d=e(\"gIcY\"),h=e(\"ZYCi\"),p=e(\"sE5F\"),f=t.nb({encapsulation:0,styles:[[\"ion-fab[_ngcontent-%COMP%]{margin:1em}ion-label[_ngcontent-%COMP%]{white-space:pre-wrap!important}\"]],data:{}});function m(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,22,\"ion-list\",[],null,null,null,s.fb,s.w)),t.ob(1,49152,null,0,u.N,[t.h,t.k],null,null),(n()(),t.pb(2,0,null,0,20,\"ion-item-sliding\",[],null,null,null,s.cb,s.u)),t.ob(3,49152,null,0,u.L,[t.h,t.k],null,null),(n()(),t.pb(4,0,null,0,8,\"ion-item\",[],null,[[null,\"click\"]],function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.open(n.context.$implicit)&&t),t},s.db,s.r)),t.ob(5,49152,null,0,u.G,[t.h,t.k],null,null),(n()(),t.pb(6,0,null,0,2,\"ion-label\",[],null,null,null,s.eb,s.v)),t.ob(7,49152,null,0,u.M,[t.h,t.k],null,null),(n()(),t.Gb(8,0,[\"\",\"\"])),(n()(),t.pb(9,0,null,0,3,\"ion-note\",[[\"slot\",\"end\"]],null,null,null,s.jb,s.A)),t.ob(10,49152,null,0,u.W,[t.h,t.k],null,null),(n()(),t.Gb(11,0,[\"\",\" articulos\"])),t.Cb(12,1),(n()(),t.pb(13,0,null,0,9,\"ion-item-options\",[[\"side\",\"end\"]],null,null,null,s.bb,s.t)),t.ob(14,49152,null,0,u.K,[t.h,t.k],{side:[0,\"side\"]},null),(n()(),t.pb(15,0,null,0,3,\"ion-item-option\",[[\"color\",\"success\"]],null,[[null,\"click\"]],function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.Editsede(n.context.$implicit)&&t),t},s.ab,s.s)),t.ob(16,49152,null,0,u.J,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.pb(17,0,null,0,1,\"ion-icon\",[[\"name\",\"more\"],[\"slot\",\"end\"]],null,null,null,s.X,s.o)),t.ob(18,49152,null,0,u.B,[t.h,t.k],{name:[0,\"name\"]},null),(n()(),t.pb(19,0,null,0,3,\"ion-item-option\",[[\"color\",\"danger\"]],null,[[null,\"click\"]],function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.RemoveSede(n.context.$implicit)&&t),t},s.ab,s.s)),t.ob(20,49152,null,0,u.J,[t.h,t.k],{color:[0,\"color\"]},null),(n()(),t.pb(21,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"],[\"slot\",\"end\"]],null,null,null,s.X,s.o)),t.ob(22,49152,null,0,u.B,[t.h,t.k],{name:[0,\"name\"]},null)],function(n,l){n(l,14,0,\"end\"),n(l,16,0,\"success\"),n(l,18,0,\"more\"),n(l,20,0,\"danger\"),n(l,22,0,\"trash\")},function(n,l){n(l,8,0,l.context.$implicit.nombre);var e=t.Hb(l,11,0,n(l,12,0,t.zb(l.parent,0),l.context.$implicit.cantidad));n(l,11,0,e)})}function v(n){return t.Ib(0,[t.Bb(0,b.d,[t.u]),(n()(),t.pb(1,0,null,null,21,\"ion-header\",[],null,null,null,s.W,s.n)),t.ob(2,49152,null,0,u.A,[t.h,t.k],null,null),(n()(),t.pb(3,0,null,0,8,\"ion-toolbar\",[],null,null,null,s.rb,s.I)),t.ob(4,49152,null,0,u.Ab,[t.h,t.k],null,null),(n()(),t.pb(5,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,s.N,s.e)),t.ob(6,49152,null,0,u.k,[t.h,t.k],null,null),(n()(),t.pb(7,0,null,0,1,\"ion-menu-button\",[],null,null,null,s.gb,s.y)),t.ob(8,49152,null,0,u.Q,[t.h,t.k],null,null),(n()(),t.pb(9,0,null,0,2,\"ion-title\",[],null,null,null,s.qb,s.H)),t.ob(10,49152,null,0,u.yb,[t.h,t.k],null,null),(n()(),t.Gb(-1,0,[\"sedes\"])),(n()(),t.pb(12,0,null,0,3,\"ion-searchbar\",[[\"animated\",\"\"]],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],function(n,l,e){var o=!0,u=n.component;return\"ionBlur\"===l&&(o=!1!==t.zb(n,15)._handleBlurEvent()&&o),\"ionChange\"===l&&(o=!1!==t.zb(n,15)._handleInputEvent(e.target.value)&&o),\"ionChange\"===l&&(o=!1!==u.onInput(e)&&o),o},s.kb,s.B)),t.Db(5120,null,d.g,function(n){return[n]},[u.Mb]),t.ob(14,49152,null,0,u.ib,[t.h,t.k],{animated:[0,\"animated\"]},null),t.ob(15,16384,null,0,u.Mb,[t.k],null,null),(n()(),t.pb(16,0,null,0,6,\"ion-item\",[],null,null,null,s.db,s.r)),t.ob(17,49152,null,0,u.G,[t.h,t.k],null,null),(n()(),t.pb(18,0,null,0,4,\"ion-label\",[],null,null,null,s.eb,s.v)),t.ob(19,49152,null,0,u.M,[t.h,t.k],null,null),(n()(),t.Gb(20,0,[\" Hay \",\" sedes con \",\" articulos\"])),t.Cb(21,1),t.Cb(22,1),(n()(),t.pb(23,0,null,null,9,\"ion-content\",[],null,null,null,s.T,s.k)),t.ob(24,49152,null,0,u.t,[t.h,t.k],null,null),(n()(),t.gb(16777216,null,0,1,null,m)),t.ob(26,278528,null,0,b.i,[t.O,t.L,t.s],{ngForOf:[0,\"ngForOf\"]},null),(n()(),t.pb(27,0,null,0,5,\"ion-fab\",[[\"horizontal\",\"end\"],[\"slot\",\"fixed\"],[\"vertical\",\"bottom\"]],null,null,null,s.V,s.l)),t.ob(28,49152,null,0,u.v,[t.h,t.k],{horizontal:[0,\"horizontal\"],vertical:[1,\"vertical\"]},null),(n()(),t.pb(29,0,null,0,3,\"ion-fab-button\",[],null,[[null,\"click\"]],function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==n.component.CreateSede()&&t),t},s.U,s.m)),t.ob(30,49152,null,0,u.w,[t.h,t.k],null,null),(n()(),t.pb(31,0,null,0,1,\"ion-icon\",[[\"name\",\"add\"]],null,null,null,s.X,s.o)),t.ob(32,49152,null,0,u.B,[t.h,t.k],{name:[0,\"name\"]},null)],function(n,l){var e=l.component;n(l,14,0,\"\"),n(l,26,0,e.sedes),n(l,28,0,\"end\",\"bottom\"),n(l,32,0,\"add\")},function(n,l){var e=l.component,o=t.Hb(l,20,0,n(l,21,0,t.zb(l,0),e.cantidad)),u=t.Hb(l,20,1,n(l,22,0,t.zb(l,0),e.contador.sede));n(l,20,0,o,u)})}function k(n){return t.Ib(0,[(n()(),t.pb(0,0,null,null,1,\"app-sedes\",[],null,null,null,v,f)),t.ob(1,114688,null,0,r,[u.Ib,h.m,u.Gb,u.a,p.d],null,null)],function(n,l){n(l,1,0)},null)}var C=t.lb(\"app-sedes\",r,k,{},{},[]);e.d(l,\"SedesPageModuleNgFactory\",function(){return g});var g=t.mb(a,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[c.a,C]],[3,t.j],t.x]),t.xb(4608,b.l,b.k,[t.u,[2,b.s]]),t.xb(4608,d.o,d.o,[]),t.xb(4608,u.b,u.b,[t.z,t.g]),t.xb(4608,u.Fb,u.Fb,[u.b,t.j,t.q]),t.xb(4608,u.Jb,u.Jb,[u.b,t.j,t.q]),t.xb(1073742336,b.b,b.b,[]),t.xb(1073742336,d.m,d.m,[]),t.xb(1073742336,d.f,d.f,[]),t.xb(1073742336,u.Cb,u.Cb,[]),t.xb(1073742336,h.o,h.o,[[2,h.u],[2,h.m]]),t.xb(1073742336,a,a,[]),t.xb(1024,h.k,function(){return[[{path:\"\",component:r}]]},[])])})}}]);","extractedComments":[]}