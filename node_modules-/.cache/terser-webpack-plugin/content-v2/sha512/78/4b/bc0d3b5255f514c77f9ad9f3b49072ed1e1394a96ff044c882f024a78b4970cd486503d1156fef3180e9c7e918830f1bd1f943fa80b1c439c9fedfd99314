{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{WI49:function(t,e,r){\"use strict\";var n=r(\"wj3C\"),o=r.n(n),i=\"https://firebasestorage.googleapis.com\",a=\"https://firebasestorage.googleapis.com\",s=\"/v0\",u=\"/v0\",c=12e4,l=6e4,h=-9007199254740991,p=function(){function t(t,e){this.code_=d(t),this.message_=\"Firebase Storage: \"+e,this.serverResponse_=null,this.name_=\"FirebaseError\"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return d(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,\"name\",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"code\",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"message\",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"serverResponse\",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),f={UNKNOWN:\"unknown\",OBJECT_NOT_FOUND:\"object-not-found\",BUCKET_NOT_FOUND:\"bucket-not-found\",PROJECT_NOT_FOUND:\"project-not-found\",QUOTA_EXCEEDED:\"quota-exceeded\",UNAUTHENTICATED:\"unauthenticated\",UNAUTHORIZED:\"unauthorized\",RETRY_LIMIT_EXCEEDED:\"retry-limit-exceeded\",INVALID_CHECKSUM:\"invalid-checksum\",CANCELED:\"canceled\",INVALID_EVENT_NAME:\"invalid-event-name\",INVALID_URL:\"invalid-url\",INVALID_DEFAULT_BUCKET:\"invalid-default-bucket\",NO_DEFAULT_BUCKET:\"no-default-bucket\",CANNOT_SLICE_BLOB:\"cannot-slice-blob\",SERVER_FILE_WRONG_SIZE:\"server-file-wrong-size\",NO_DOWNLOAD_URL:\"no-download-url\",INVALID_ARGUMENT:\"invalid-argument\",INVALID_ARGUMENT_COUNT:\"invalid-argument-count\",APP_DELETED:\"app-deleted\",INVALID_ROOT_OPERATION:\"invalid-root-operation\",INVALID_FORMAT:\"invalid-format\",INTERNAL_ERROR:\"internal-error\"};function d(t){return\"storage/\"+t}function _(){return new p(f.UNKNOWN,\"An unknown error occurred, please check the error payload for server response.\")}function v(){return new p(f.CANCELED,\"User canceled the upload/download.\")}function m(){return new p(f.CANNOT_SLICE_BLOB,\"Cannot slice blob for upload. Please retry the upload.\")}function b(t,e,r){return new p(f.INVALID_ARGUMENT,\"Invalid argument in `\"+e+\"` at index \"+t+\": \"+r)}function g(){return new p(f.APP_DELETED,\"The Firebase app was deleted.\")}function y(t,e){return new p(f.INVALID_FORMAT,\"String does not match format '\"+t+\"': \"+e)}function R(t){throw new p(f.INTERNAL_ERROR,\"Internal error: \"+t)}var E={RAW:\"raw\",BASE64:\"base64\",BASE64URL:\"base64url\",DATA_URL:\"data_url\"};function w(t){switch(t){case E.RAW:case E.BASE64:case E.BASE64URL:case E.DATA_URL:return;default:throw\"Expected one of the event types: [\"+E.RAW+\", \"+E.BASE64+\", \"+E.BASE64URL+\", \"+E.DATA_URL+\"].\"}}var T=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function U(t,e){switch(t){case E.RAW:return new T(A(e));case E.BASE64:case E.BASE64URL:return new T(N(t,e));case E.DATA_URL:return new T(function(t){var e=new O(t);return e.base64?N(E.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw y(E.DATA_URL,\"Malformed data URL.\")}return A(e)}(e.rest)}(e),function(t){return new O(t).contentType}(e))}throw _()}function A(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<t.length-1&&56320==(64512&t.charCodeAt(r+1))){var o=n,i=t.charCodeAt(++r);e.push(240|(n=65536|(1023&o)<<10|1023&i)>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else e.push(239,191,189);else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function N(t,e){switch(t){case E.BASE64:var r=-1!==e.indexOf(\"-\"),n=-1!==e.indexOf(\"_\");if(r||n)throw y(t,\"Invalid character '\"+(r?\"-\":\"_\")+\"' found: is it base64url encoded?\");break;case E.BASE64URL:var o=-1!==e.indexOf(\"+\"),i=-1!==e.indexOf(\"/\");if(o||i)throw y(t,\"Invalid character '\"+(o?\"+\":\"/\")+\"' found: is it base64 encoded?\");e=e.replace(/-/g,\"+\").replace(/_/g,\"/\")}var a;try{a=atob(e)}catch(c){throw y(t,\"Invalid character found\")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var O=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw y(E.DATA_URL,\"Must be formatted 'data:[<mediatype>][;base64],<data>\");var r,n=e[1]||null;null!=n&&(this.base64=(r=n).length>=\";base64\".length&&\";base64\"===r.substring(r.length-\";base64\".length),this.contentType=this.base64?n.substring(0,n.length-\";base64\".length):n),this.rest=t.substring(t.indexOf(\",\")+1)}}(),C={STATE_CHANGED:\"state_changed\"},S={RUNNING:\"running\",PAUSING:\"pausing\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELING:\"canceling\",CANCELED:\"canceled\",ERROR:\"error\"},k={RUNNING:\"running\",PAUSED:\"paused\",SUCCESS:\"success\",CANCELED:\"canceled\",ERROR:\"error\"};function I(t){switch(t){case S.RUNNING:case S.PAUSING:case S.CANCELING:return k.RUNNING;case S.PAUSED:return k.PAUSED;case S.SUCCESS:return k.SUCCESS;case S.CANCELED:return k.CANCELED;case S.ERROR:default:return k.ERROR}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){for(var r in t)P(t,r)&&e(r,t[r])}function L(t){if(null==t)return{};var e={};return x(t,function(t,r){e[t]=r}),e}function D(t){return new Promise(t)}function M(t){return Promise.resolve(t)}function W(t){return null!=t}function B(t){return void 0!==t}function G(t){return\"function\"==typeof t}function j(t){return\"object\"==typeof t}function q(t){return j(t)&&null!==t}function F(t){return\"string\"==typeof t||t instanceof String}function H(t){return z()&&t instanceof Blob}function z(){return\"undefined\"!=typeof Blob}var X=function(t){return t[t.NO_ERROR=0]=\"NO_ERROR\",t[t.NETWORK_ERROR=1]=\"NETWORK_ERROR\",t[t.ABORT=2]=\"ABORT\",t}({}),V=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=X.NO_ERROR,this.sendPromise_=D(function(e,r){t.xhr_.addEventListener(\"abort\",function(r){t.errorCode_=X.ABORT,e(t)}),t.xhr_.addEventListener(\"error\",function(r){t.errorCode_=X.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener(\"load\",function(r){e(t)})})}return t.prototype.send=function(t,e,r,n){var o=this;if(this.sent_)throw R(\"cannot .send() more than once\");return this.sent_=!0,this.xhr_.open(e,t,!0),W(n)&&x(n,function(t,e){o.xhr_.setRequestHeader(t,e.toString())}),W(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw R(\"cannot .getErrorCode() before sending\");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw R(\"cannot .getStatus() before sending\");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw R(\"cannot .getResponseText() before sending\");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){W(this.xhr_.upload)&&this.xhr_.upload.addEventListener(\"progress\",t)},t.prototype.removeUploadProgressListener=function(t){W(this.xhr_.upload)&&this.xhr_.upload.removeEventListener(\"progress\",t)},t}(),K=function(){function t(){}return t.prototype.createXhrIo=function(){return new V},t}();function Z(t){var e,r;try{e=JSON.parse(t)}catch(n){return null}return j(r=e)&&!Array.isArray(r)?e:null}var J=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,\"path\",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return\"/b/\"+t(this.bucket)+\"/o/\"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return\"/b/\"+encodeURIComponent(this.bucket)+\"/o\"},t.makeFromBucketSpec=function(e){var r;try{r=t.makeFromUrl(e)}catch(n){return new t(e,\"\")}if(\"\"===r.path)return r;throw new p(f.INVALID_DEFAULT_BUCKET,\"Invalid default bucket '\"+e+\"'.\")},t.makeFromUrl=function(e){for(var r=null,n=[{regex:new RegExp(\"^gs://([A-Za-z0-9.\\\\-_]+)(/(.*))?$\",\"i\"),indices:{bucket:1,path:3},postModify:function(t){\"/\"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(\"^https?://firebasestorage\\\\.googleapis\\\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\\\-_]+)/o(/([^?#]*).*)?$\",\"i\"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],o=0;o<n.length;o++){var i=n[o],a=i.regex.exec(e);if(a){var s=a[i.indices.path];s||(s=\"\"),r=new t(a[i.indices.bucket],s),i.postModify(r);break}}if(null==r)throw function(t){return new p(f.INVALID_URL,\"Invalid URL '\"+t+\"'.\")}(e);return r},t}();function Q(t){var e=t.lastIndexOf(\"/\",t.length-2);return-1===e?t:t.slice(e+1)}function Y(t){return i+s+t}function $(t){return i+u+t}function tt(t){var e=encodeURIComponent,r=\"?\";return x(t,function(t,n){var o=e(t)+\"=\"+e(n);r=r+o+\"&\"}),r=r.slice(0,-1)}function et(t,e){return e}var rt=function(){return function(t,e,r,n){this.server=t,this.local=e||t,this.writable=!!r,this.xform=n||et}}(),nt=null;function ot(t,e,r){var n=Z(e);return null===n?null:function(t,e,r){for(var n={type:\"file\"},o=r.length,i=0;i<o;i++){var a=r[i];n[a.local]=a.xform(n,e[a.server])}return function(t,e){Object.defineProperty(t,\"ref\",{get:function(){var r=new J(t.bucket,t.fullPath);return e.makeStorageReference(r)}})}(n,t),n}(t,n,r)}function it(t,e){for(var r={},n=e.length,o=0;o<n;o++){var i=e[o];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}function at(t){if(!t||!j(t))throw\"Expected Metadata object.\";for(var e in t){var r=t[e];if(\"customMetadata\"===e){if(!j(r))throw\"Expected object for 'customMetadata' mapping.\"}else if(q(r))throw\"Mapping for '\"+e+\"' cannot be an object.\"}}function st(t,e,r){for(var n=e.length,o=e.length,i=0;i<e.length;i++)if(e[i].optional){n=i;break}var a,s,u,c;if(!(n<=r.length&&r.length<=o))throw(a=n)===(s=o)?(u=a,c=1===a?\"argument\":\"arguments\"):(u=\"between \"+a+\" and \"+s,c=\"arguments\"),new p(f.INVALID_ARGUMENT_COUNT,\"Invalid argument count in `\"+t+\"`: Expected \"+u+\" \"+c+\", received \"+r.length+\".\");for(i=0;i<r.length;i++)try{e[i].validator(r[i])}catch(l){throw l instanceof Error?b(i,t,l.message):b(i,t,l)}}var ut=function(){return function(t,e){var r=this;this.validator=function(e){r.optional&&!B(e)||t(e)},this.optional=!!e}}();function ct(t,e){function r(t){if(!F(t))throw\"Expected string.\"}var n,o,i;return t?(o=r,i=t,n=function(t){o(t),i(t)}):n=r,new ut(n,e)}function lt(t){return new ut(at,t)}function ht(){return new ut(function(t){if(!(function(t){return\"number\"==typeof t||t instanceof Number}(t)&&t>=0))throw\"Expected a number 0 or greater.\"})}function pt(t,e){return new ut(function(e){if(!(null===e||W(e)&&e instanceof Object))throw\"Expected an Object.\";null!=t&&t(e)},e)}function ft(t){return new ut(function(t){if(null!==t&&!G(t))throw\"Expected a Function.\"},t)}function dt(){return\"undefined\"!=typeof BlobBuilder?BlobBuilder:\"undefined\"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var _t=function(){function t(t,e){var r=0,n=\"\";H(t)?(this.data_=t,r=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,r){if(H(this.data_)){var n=(i=e,a=r,(o=this.data_).webkitSlice?o.webkitSlice(i,a):o.mozSlice?o.mozSlice(i,a):o.slice?o.slice(i,a):null);return null===n?null:new t(n)}var o,i,a;return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)},t.getBlob=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(z()){var n=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=dt();if(void 0!==r){for(var n=new r,o=0;o<t.length;o++)n.append(t[o]);return n.getBlob()}if(z())return new Blob(t);throw Error(\"This browser doesn't seem to support creating Blobs\")}).apply(null,n))}var o=e.map(function(t){return F(t)?U(E.RAW,t).data:t.data_}),i=0;o.forEach(function(t){i+=t.byteLength});var a=new Uint8Array(i),s=0;return o.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function vt(t,e){return-1!==t.indexOf(e)}var mt=function(){return function(t,e,r,n){this.url=t,this.method=e,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function bt(t){if(!t)throw _()}function gt(t,e){return function(r,n){var o=ot(t,n,e);return bt(null!==o),o}}function yt(t){return function(e,r){var n;return(n=401===e.getStatus()?new p(f.UNAUTHENTICATED,\"User is not authenticated, please authenticate using Firebase Authentication and try again.\"):402===e.getStatus()?new p(f.QUOTA_EXCEEDED,\"Quota for bucket '\"+t.bucket+\"' exceeded, please view quota on https://firebase.google.com/pricing/.\"):403===e.getStatus()?new p(f.UNAUTHORIZED,\"User does not have permission to access '\"+t.path+\"'.\"):r).setServerResponseProp(r.serverResponseProp()),n}}function Rt(t){var e=yt(t);return function(r,n){var o=e(r,n);return 404===r.getStatus()&&(o=new p(f.OBJECT_NOT_FOUND,\"Object '\"+t.path+\"' does not exist.\")),o.setServerResponseProp(n.serverResponseProp()),o}}function Et(t,e,r){var n=Y(e.fullServerUrl()),o=t.maxOperationRetryTime(),i=new mt(n,\"GET\",gt(t,r),o);return i.errorHandler=Rt(e),i}function wt(t,e,r){var n=L(r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return e&&e.type()||\"application/octet-stream\"}(0,e)),n}var Tt=function(){return function(t,e,r,n){this.current=t,this.total=e,this.finalized=!!r,this.metadata=n||null}}();function Ut(t,e){var r;try{r=t.getResponseHeader(\"X-Goog-Upload-Status\")}catch(n){bt(!1)}return bt(vt(e||[\"active\"],r)),r}var At=function(){return function(t,e,r){if(G(t)||W(e)||W(r))this.next=t,this.error=e||null,this.complete=r||null;else{var n=t;this.next=n.next||null,this.error=n.error||null,this.complete=n.complete||null}}}(),Nt=function(){return function(t,e,r,n,o,i){this.bytesTransferred=t,this.totalBytes=e,this.state=r,this.metadata=n,this.task=o,this.ref=i}}();function Ot(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];M(!0).then(function(){t.apply(null,e)})}}var Ct=function(){function t(t,e,r,n,o,i){void 0===i&&(i=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=r,this.blob_=o,this.metadata_=i,this.mappings_=n,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=S.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(f.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(S.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(f.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(S.ERROR))},this.promise_=D(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(r,n){t.updateProgress_(e+r)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===S.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(r){switch(e.state_){case S.RUNNING:t(r);break;case S.CANCELING:e.transition_(S.CANCELED);break;case S.PAUSING:e.transition_(S.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var r=function(t,e,r,n,o){var i=e.bucketOnlyServerUrl(),a=wt(e,n,o),s={name:a.fullPath},u=$(i),c={\"X-Goog-Upload-Protocol\":\"resumable\",\"X-Goog-Upload-Command\":\"start\",\"X-Goog-Upload-Header-Content-Length\":n.size(),\"X-Goog-Upload-Header-Content-Type\":a.contentType,\"Content-Type\":\"application/json; charset=utf-8\"},l=it(a,r),h=t.maxUploadRetryTime(),p=new mt(u,\"POST\",function(t,e){var r;Ut(t);try{r=t.getResponseHeader(\"X-Goog-Upload-URL\")}catch(n){bt(!1)}return bt(F(r)),r},h);return p.urlParams=s,p.headers=c,p.body=l,p.errorHandler=yt(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(r){var n=function(e,r,n,o){var i=t.authWrapper_.maxUploadRetryTime(),a=new mt(n,\"POST\",function(t,e){var r,n=Ut(t,[\"active\",\"final\"]);try{r=t.getResponseHeader(\"X-Goog-Upload-Size-Received\")}catch(a){bt(!1)}var i=parseInt(r,10);return bt(!isNaN(i)),new Tt(i,o.size(),\"final\"===n)},i);return a.headers={\"X-Goog-Upload-Command\":\"query\"},a.errorHandler=yt(r),a}(0,t.location_,e,t.blob_),o=t.authWrapper_.makeRequest(n,r);t.request_=o,o.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,r=new Tt(this.transferred_,this.blob_.size()),n=this.uploadUrl_;this.resolveToken_(function(o){var i;try{i=function(t,e,r,n,o,i,a,s){var u=new Tt(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=n.size()),n.size()!==u.total)throw new p(f.SERVER_FILE_WRONG_SIZE,\"Server recorded incorrect upload file size, please retry the upload.\");var c=u.total-u.current,l=c;o>0&&(l=Math.min(l,o));var h=u.current,d={\"X-Goog-Upload-Command\":l===c?\"upload, finalize\":\"upload\",\"X-Goog-Upload-Offset\":u.current},_=n.slice(h,h+l);if(null===_)throw m();var v=e.maxUploadRetryTime(),b=new mt(r,\"POST\",function(t,r){var o,a=Ut(t,[\"active\",\"final\"]),s=u.current+l,c=n.size();return o=\"final\"===a?gt(e,i)(t,r):null,new Tt(s,c,\"final\"===a,o)},v);return b.headers=d,b.body=_.uploadData(),b.progressCallback=s||null,b.errorHandler=yt(t),b}(t.location_,t.authWrapper_,n,t.blob_,e,t.mappings_,r,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(S.ERROR)}var a=t.authWrapper_.makeRequest(i,o);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(S.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var r=Et(t.authWrapper_,t.location_,t.mappings_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(S.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var r=function(t,e,r,n,o){var i=e.bucketOnlyServerUrl(),a={\"X-Goog-Upload-Protocol\":\"multipart\"},s=function(){for(var t=\"\",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a[\"Content-Type\"]=\"multipart/related; boundary=\"+s;var u=wt(e,n,o),c=it(u,r),l=_t.getBlob(\"--\"+s+\"\\r\\nContent-Type: application/json; charset=utf-8\\r\\n\\r\\n\"+c+\"\\r\\n--\"+s+\"\\r\\nContent-Type: \"+u.contentType+\"\\r\\n\\r\\n\",n,\"\\r\\n--\"+s+\"--\");if(null===l)throw m();var h={name:u.fullPath},p=$(i),f=t.maxUploadRetryTime(),d=new mt(p,\"POST\",gt(t,r),f);return d.urlParams=h,d.headers=a,d.body=l.uploadData(),d.errorHandler=yt(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),n=t.authWrapper_.makeRequest(r,e);t.request_=n,n.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(S.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case S.CANCELING:case S.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case S.RUNNING:var e=this.state_===S.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case S.PAUSED:this.state_=t,this.notifyObservers_();break;case S.CANCELED:this.error_=v(),this.state_=t,this.notifyObservers_();break;case S.ERROR:case S.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case S.PAUSING:this.transition_(S.PAUSED);break;case S.CANCELING:this.transition_(S.CANCELED);break;case S.RUNNING:this.start_()}},Object.defineProperty(t.prototype,\"snapshot\",{get:function(){var t=I(this.state_);return new Nt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,r,n){void 0===e&&(e=void 0),void 0===r&&(r=void 0),void 0===n&&(n=void 0);var o=\"Expected a function or an Object with one of `next`, `error`, `complete` properties.\",i=ft(!0).validator,a=pt(null,!0).validator;function s(t){try{return void i(t)}catch(e){}try{if(a(t),!(B(t.next)||B(t.error)||B(t.complete)))throw\"\";return}catch(e){throw o}}st(\"on\",[ct(function(e){if(t!==C.STATE_CHANGED)throw\"Expected one of the event types: [\"+C.STATE_CHANGED+\"].\"}),pt(s,!0),ft(!0),ft(!0)],arguments);var u=this;function c(t){return function(e,r,o){null!==t&&st(\"on\",t,arguments);var i=new At(e,r,n);return u.addObserver_(i),function(){u.removeObserver_(i)}}}var l=[pt(function(t){if(null===t)throw o;s(t)}),ft(!0),ft(!0)];return B(e)||B(r)||B(n)?c(null)(e,r,n):c(l)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,r;-1!==(r=(e=this.observers_).indexOf(t))&&e.splice(r,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(I(this.state_)){case k.SUCCESS:Ot(this.resolve_.bind(null,this.snapshot))();break;case k.CANCELED:case k.ERROR:Ot(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(I(this.state_)){case k.RUNNING:case k.PAUSED:null!==t.next&&Ot(t.next.bind(t,this.snapshot))();break;case k.SUCCESS:null!==t.complete&&Ot(t.complete.bind(t))();break;case k.CANCELED:case k.ERROR:null!==t.error&&Ot(t.error.bind(t,this.error_))();break;default:null!==t.error&&Ot(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){st(\"resume\",[],arguments);var t=this.state_===S.PAUSED||this.state_===S.PAUSING;return t&&this.transition_(S.RUNNING),t},t.prototype.pause=function(){st(\"pause\",[],arguments);var t=this.state_===S.RUNNING;return t&&this.transition_(S.PAUSING),t},t.prototype.cancel=function(){st(\"cancel\",[],arguments);var t=this.state_===S.RUNNING||this.state_===S.PAUSING;return t&&this.transition_(S.CANCELING),t},t}(),St=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof J?e:J.makeFromUrl(e)}return t.prototype.toString=function(){return st(\"toString\",[],arguments),\"gs://\"+this.location.bucket+\"/\"+this.location.path},t.prototype.newRef=function(e,r){return new t(e,r)},t.prototype.mappings=function(){return function(){if(nt)return nt;var t=[];t.push(new rt(\"bucket\")),t.push(new rt(\"generation\")),t.push(new rt(\"metageneration\")),t.push(new rt(\"name\",\"fullPath\",!0));var e=new rt(\"name\");e.xform=function(t,e){return function(t){return!F(t)||t.length<2?t:Q(t=t)}(e)},t.push(e);var r=new rt(\"size\");return r.xform=function(t,e){return W(e)?+e:e},t.push(r),t.push(new rt(\"timeCreated\")),t.push(new rt(\"updated\")),t.push(new rt(\"md5Hash\",null,!0)),t.push(new rt(\"cacheControl\",null,!0)),t.push(new rt(\"contentDisposition\",null,!0)),t.push(new rt(\"contentEncoding\",null,!0)),t.push(new rt(\"contentLanguage\",null,!0)),t.push(new rt(\"contentType\",null,!0)),t.push(new rt(\"metadata\",\"customMetadata\",!0)),nt=t}()},t.prototype.child=function(t){st(\"child\",[ct()],arguments);var e=function(t,e){var r=e.split(\"/\").filter(function(t){return t.length>0}).join(\"/\");return 0===t.length?r:t+\"/\"+r}(this.location.path,t),r=new J(this.location.bucket,e);return this.newRef(this.authWrapper,r)},Object.defineProperty(t.prototype,\"parent\",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf(\"/\");return-1===e?\"\":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new J(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"root\",{get:function(){var t=new J(this.location.bucket,\"\");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bucket\",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fullPath\",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return Q(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"storage\",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),st(\"put\",[new ut(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||z()&&t instanceof Blob))throw\"Expected Blob or File.\"}),lt(!0)],arguments),this.throwIfRoot_(\"put\"),new Ct(this,this.authWrapper,this.location,this.mappings(),new _t(t),e)},t.prototype.putString=function(t,e,r){void 0===e&&(e=E.RAW),st(\"putString\",[ct(),ct(w,!0),lt(!0)],arguments),this.throwIfRoot_(\"putString\");var n=U(e,t),o=L(r);return!W(o.contentType)&&W(n.contentType)&&(o.contentType=n.contentType),new Ct(this,this.authWrapper,this.location,this.mappings(),new _t(n.data,!0),o)},t.prototype.delete=function(){st(\"delete\",[],arguments),this.throwIfRoot_(\"delete\");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=function(t,e){var r=Y(e.fullServerUrl()),n=t.maxOperationRetryTime(),o=new mt(r,\"DELETE\",function(t,e){},n);return o.successCodes=[200,204],o.errorHandler=Rt(e),o}(t.authWrapper,t.location);return t.authWrapper.makeRequest(r,e).getPromise()})},t.prototype.getMetadata=function(){st(\"getMetadata\",[],arguments),this.throwIfRoot_(\"getMetadata\");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=Et(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(r,e).getPromise()})},t.prototype.updateMetadata=function(t){st(\"updateMetadata\",[lt()],arguments),this.throwIfRoot_(\"updateMetadata\");var e=this;return this.authWrapper.getAuthToken().then(function(r){var n=function(t,e,r,n){var o=Y(e.fullServerUrl()),i=it(r,n),a=t.maxOperationRetryTime(),s=new mt(o,\"PATCH\",gt(t,n),a);return s.headers={\"Content-Type\":\"application/json; charset=utf-8\"},s.body=i,s.errorHandler=Rt(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(n,r).getPromise()})},t.prototype.getDownloadURL=function(){st(\"getDownloadURL\",[],arguments),this.throwIfRoot_(\"getDownloadURL\");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=function(t,e,r){var n=Y(e.fullServerUrl()),o=t.maxOperationRetryTime(),i=new mt(n,\"GET\",function(t,e){return function(r,n){var o=ot(t,n,e);return bt(null!==o),function(t,e){var r=Z(n);if(null===r)return null;if(!F(r.downloadTokens))return null;var o=r.downloadTokens;if(0===o.length)return null;var i=encodeURIComponent;return o.split(\",\").map(function(e){var r,n=t.fullPath;return r=\"/b/\"+i(t.bucket)+\"/o/\"+i(n),a+s+r+tt({alt:\"media\",token:e})})[0]}(o)}}(t,r),o);return i.errorHandler=Rt(e),i}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(r,e).getPromise().then(function(t){if(null===t)throw new p(f.NO_DOWNLOAD_URL,\"The given file does not have any download URLs.\");return t})})},t.prototype.throwIfRoot_=function(t){if(\"\"===this.location.path)throw function(t){return new p(f.INVALID_ROOT_OPERATION,\"The operation '\"+t+\"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').\")}(t)},t}(),kt=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),It=function(){function t(){this.map_={},this.id_=h}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var r=this;function n(){delete r.map_[e]}t.getPromise().then(n,n)},t.prototype.clear=function(){x(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Pt=function(){function t(e,r,n,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;W(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=r,this.requestMaker_=n,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=l,this.requestMap_=new It}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:J.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&W(this.app_.INTERNAL)&&W(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):M(null)},t.prototype.bucket=function(){if(this.deleted_)throw g();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new kt(g());var r=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(r),r},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),xt=function(){function t(t,e,r,n,o,i,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=r,this.body_=n,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=D(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,r){var n,o=t.resolve_,i=t.reject_,a=r.xhr;if(r.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());B(s)?o(s):o()}catch(u){i(u)}else null!==a?((n=_()).setServerResponseProp(a.getResponseText()),i(t.errorCallback_?t.errorCallback_(a,n):n)):i(n=r.canceled?t.appDelete_?g():v():new p(f.RETRY_LIMIT_EXCEEDED,\"Max retry time for operation exceeded, please try again.\"))}this.canceled_?e(0,new Lt(!1,null,!0)):this.backoffId_=function(t,e,r){var n=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,e.apply(null,arguments))}function l(e){o=setTimeout(function(){o=null,t(h,s())},e)}function h(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];u||(t?c.apply(null,arguments):s()||i?c.apply(null,arguments):(n<64&&(n*=2),1===a?(a=2,e=0):e=1e3*(n+Math.random()),l(e)))}var p=!1;function f(t){p||(p=!0,u||(null!==o?(t||(a=2),clearTimeout(o),l(0)):t||(a=1)))}return l(0),setTimeout(function(){i=!0,f(!0)},r),f}(function(e,r){if(r)e(!1,new Lt(!1,null,!0));else{var n=t.pool_.createXhrIo();t.pendingXhr_=n,null!==t.progressCallback_&&n.addUploadProgressListener(o),n.send(t.url_,t.method_,t.body_,t.headers_).then(function(r){null!==t.progressCallback_&&r.removeUploadProgressListener(o),t.pendingXhr_=null;var n=(r=r).getErrorCode()===X.NO_ERROR,i=r.getStatus();if(n&&!t.isRetryStatusCode_(i)){var a=vt(t.successCodes_,i);e(!0,new Lt(a,r))}else{var s=r.getErrorCode()===X.ABORT;e(!1,new Lt(!1,null,s))}})}function o(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,r=vt([408,429],t),n=vt(this.additionalRetryCodes_,t);return e||r||n},t}(),Lt=function(){return function(t,e,r){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!r}}();function Dt(t,e,r){var n=tt(t.urlParams),i=t.url+n,a=L(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization=\"Firebase \"+e)}(a,e),function(t){t[\"X-Firebase-Storage-Version\"]=\"webjs/\"+(void 0!==o.a?o.a.SDK_VERSION:\"AppManager\")}(a),new xt(i,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var Mt=function(){function t(t,e,r){if(this.bucket_=null,this.authWrapper_=new Pt(t,function(t,e){return new St(t,e)},Dt,this,e),this.app_=t,null!=r)this.bucket_=J.makeFromBucketSpec(r);else{var n=this.authWrapper_.bucket();null!=n&&(this.bucket_=new J(n,\"\"))}this.internals_=new Wt(this)}return t.prototype.ref=function(t){if(st(\"ref\",[ct(function(t){if(/^[A-Za-z]+:\\/\\//.test(t))throw\"Expected child path but got a URL, use refFromURL instead.\"},!0)],arguments),null==this.bucket_)throw new Error(\"No Storage Bucket defined in Firebase Options.\");var e=new St(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return st(\"refFromURL\",[ct(function(t){if(!/^[A-Za-z]+:\\/\\//.test(t))throw\"Expected full URL but got a child path, use ref instead.\";try{J.makeFromUrl(t)}catch(e){throw\"Expected valid full URL but got an invalid one.\"}},!1)],arguments),new St(this.authWrapper_,t)},Object.defineProperty(t.prototype,\"maxUploadRetryTime\",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){st(\"setMaxUploadRetryTime\",[ht()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,\"maxOperationRetryTime\",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){st(\"setMaxOperationRetryTime\",[ht()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,\"app\",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"INTERNAL\",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Wt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),M(void 0)},t}();o.a.INTERNAL.registerService(\"storage\",function(t,e,r){return new Mt(t,new K,r)},{TaskState:k,TaskEvent:C,StringFormat:E,Storage:Mt,Reference:St},void 0,!0)}}]);","extractedComments":[]}