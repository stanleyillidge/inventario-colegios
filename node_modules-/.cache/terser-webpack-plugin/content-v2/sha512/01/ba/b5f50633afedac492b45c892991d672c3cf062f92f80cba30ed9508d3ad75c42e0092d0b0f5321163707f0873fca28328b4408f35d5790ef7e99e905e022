{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{L6id:function(n,l,t){\"use strict\";t.r(l);var o=t(\"CcnG\"),u=function(){return function(){}}(),e=t(\"pMnS\"),i=t(\"oBZk\"),a=t(\"ZZ/e\"),s=t(\"Ip0R\"),r=t(\"mrSG\"),c=t(\"zA0m\"),b=t(\"t8sF\"),h=t(\"Pn9U\"),p=t(\"mzSf\"),d=t(\"Wcq6\"),f=(t(\"WI49\"),function(){function n(n,l,t,o,u,e){var i=this;this.barcodeScanner=n,this.http=l,this.camera=t,this.imageResizer=o,this.file=u,this.loadingController=e,this.json=[],this.inventario=[],this.dataBase=[],this.http.get(\"../../assets/data/data.json\").subscribe(function(n){i.json=JSON.parse(n.text())},function(n){return console.log(n)}),this.http.get(\"../../assets/data/inventario-denzil-escolar-export.json\").subscribe(function(n){i.dataBase=JSON.parse(n.text())},function(n){return console.log(n)})}return n.prototype.uploadDB=function(){return r.b(this,void 0,void 0,function(){var n,l,t,o,u,e;return r.e(this,function(i){switch(i.label){case 0:return n=this,[4,this.loadingController.create({message:\"Actualizado...\"})];case 1:return[4,(l=i.sent()).present()];case 2:for(t in i.sent(),this.json)this.inventario[t]={imagen:this.json[t].Imagen,tipo:this.json[t][\"Tipo de elemento\"],etiqueta:this.json[t].Etiqueta,ingreso:this.json[t][\"Marca temporal\"],email:this.json[t][\"Direcci\\xf3n de correo electr\\xf3nico\"],nombre:this.json[t][\"Nombre del articulo\"],cantidad:this.json[t].Cantidad,disponibilidad:this.json[t][\"Disponible para su uso\"],estado:this.json[t].estado,descripcion:this.json[t][\"Descripci\\xf3n\"],observaciones:this.json[t].Observaciones,valor:this.json[t][\"Valor unitario\"],serie:this.json[t].Serie,sede:this.json[t].Sede,ubicacion:this.json[t][\"Ubicaci\\xf3n\"],subUbicacion:this.json[t][\"Sub-Ubicaci\\xf3n\"]},o=this.buscakey(this.dataBase.sedes,this.json[t].Sede),u=this.buscakey(this.dataBase.ubicaciones[o],this.json[t][\"Ubicaci\\xf3n\"]),e=this.buscakey(this.dataBase.subUbicaciones[u],this.json[t][\"Sub-Ubicaci\\xf3n\"]),null!=o&&null!=u&&null!=e||console.log(\"item\",t,\"sede\",o,\"ubicacion\",u,\"sub-ubicacion\",e),d.database().ref(\"inventario/\"+e).push(n.inventario[t]);return l.dismiss(),[2]}})})},n.prototype.buscakey=function(n,l){for(var t in n)if(Object.values(n[t]).indexOf(l)>-1)return t},n.prototype.searchFor=function(n,l){var t=[];l=this.trimString(l);for(var o=0;o<n.length;o++)for(var u in n[o])-1!=n[o][u].indexOf(l)&&(this.itemExists(t,n[o])||t.push(n[o]));return t},n.prototype.trimString=function(n){for(var l=0,t=n.length-1;l<n.length&&\" \"==n[l];)l++;for(;t>l&&\" \"==n[t];)t-=1;return n.substring(l,t+1)},n.prototype.compareObjects=function(n,l){var t=\"\";for(t in n)if(n[t]!=l[t])return!1;for(t in l)if(n[t]!=l[t])return!1;return!0},n.prototype.itemExists=function(n,l){for(var t=0;t<n.length;t++)if(this.compareObjects(n[t],l))return!0;return!1},n.prototype.update=function(){return r.b(this,void 0,void 0,function(){return r.e(this,function(n){return[2]})})},n.prototype.camara=function(){var n=this;this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE}).then(function(l){n.imageResizer.resize({uri:l,quality:60,width:300,height:450}).then(function(l){n.Path=l,n.file.resolveLocalFilesystemUrl(l).then(function(l){l.file(function(l){var t=new FileReader;t.onload=function(l){n.Path=l.target.result},t.readAsDataURL(l)})}).catch(function(n){console.log(n)}),console.log(\"FilePath => \",l)}).catch(function(n){return console.log(n)})},function(n){console.log(n)})},n.prototype.startUpload=function(n){d.storage().ref(\"inventario\").putString(n,\"data_url\")},n.prototype.escaner=function(){var n=this;this.barcodeScanner.scan().then(function(l){n.scanData=l,console.log(\"Barcode data\",l)}).catch(function(n){console.log(\"Error\",n)})},n.prototype.csvJSON=function(n){for(var l=n.split(\"\\n\"),t=[],o=l[0].split(\",\"),u=1;u<l.length;u++){for(var e={},i=l[u].split(\",\"),a=0;a<o.length;a++)e[o[a]]=i[a];t.push(e)}return JSON.stringify(t)},n}()),m=t(\"sE5F\"),g=o.nb({encapsulation:0,styles:[[\".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}\"]],data:{}});function k(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,15,\"ion-item\",[[\"text-wrap\",\"\"]],null,null,null,i.W,i.r)),o.ob(1,49152,null,0,a.G,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,3,\"ion-thumbnail\",[[\"slot\",\"start\"]],null,null,null,i.hb,i.C)),o.ob(3,49152,null,0,a.xb,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,1,\"ion-img\",[],null,null,null,i.U,i.p)),o.ob(5,49152,null,0,a.C,[o.h,o.k],{src:[0,\"src\"]},null),(n()(),o.pb(6,0,null,0,1,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(7,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,t){var o=!0,u=n.component;return\"click\"===l&&(o=!1!==u.startUpload(u.Path)&&o),o},i.I,i.d)),o.ob(9,49152,null,0,a.j,[o.h,o.k],{fill:[0,\"fill\"]},null),(n()(),o.pb(10,0,null,0,1,\"ion-icon\",[[\"name\",\"cloud-upload\"],[\"slot\",\"icon-only\"]],null,null,null,i.T,i.o)),o.ob(11,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(12,0,null,0,3,\"ion-button\",[[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(n,l,t){var o=!0,u=n.component;return\"click\"===l&&(o=!1!==u.deleteImage(u.img,u.pos)&&o),o},i.I,i.d)),o.ob(13,49152,null,0,a.j,[o.h,o.k],{fill:[0,\"fill\"]},null),(n()(),o.pb(14,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"],[\"slot\",\"icon-only\"]],null,null,null,i.T,i.o)),o.ob(15,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null)],function(n,l){n(l,5,0,l.component.Path),n(l,9,0,\"clear\"),n(l,11,0,\"cloud-upload\"),n(l,13,0,\"clear\"),n(l,15,0,\"trash\")},null)}function v(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,15,\"ion-card\",[[\"class\",\"welcome-card\"]],null,null,null,i.O,i.f)),o.ob(1,49152,null,0,a.l,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,1,\"ion-img\",[[\"src\",\"/assets/shapes.svg\"]],null,null,null,i.U,i.p)),o.ob(3,49152,null,0,a.C,[o.h,o.k],{src:[0,\"src\"]},null),(n()(),o.pb(4,0,null,0,7,\"ion-card-header\",[],null,null,null,i.L,i.h)),o.ob(5,49152,null,0,a.n,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,2,\"ion-card-subtitle\",[],null,null,null,i.M,i.i)),o.ob(7,49152,null,0,a.o,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Barcode scaner\"])),(n()(),o.pb(9,0,null,0,2,\"ion-card-title\",[],null,null,null,i.N,i.j)),o.ob(10,49152,null,0,a.p,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Welcome to Ionic\"])),(n()(),o.pb(12,0,null,0,3,\"ion-card-content\",[],null,null,null,i.K,i.g)),o.ob(13,49152,null,0,a.m,[o.h,o.k],null,null),(n()(),o.pb(14,0,null,0,1,\"p\",[],null,null,null,null,null)),(n()(),o.Eb(15,null,[\"\",\"\"]))],function(n,l){n(l,3,0,\"/assets/shapes.svg\")},function(n,l){n(l,15,0,l.component.scanData.text)})}function j(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,10,\"ion-header\",[],null,null,null,i.S,i.n)),o.ob(1,49152,null,0,a.A,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,8,\"ion-toolbar\",[],null,null,null,i.jb,i.E)),o.ob(3,49152,null,0,a.Ab,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,i.J,i.e)),o.ob(5,49152,null,0,a.k,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,\"ion-menu-button\",[],null,null,null,i.Z,i.v)),o.ob(7,49152,null,0,a.Q,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,2,\"ion-title\",[],null,null,null,i.ib,i.D)),o.ob(9,49152,null,0,a.yb,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\" Home \"])),(n()(),o.pb(11,0,null,null,19,\"ion-content\",[],null,null,null,i.P,i.k)),o.ob(12,49152,null,0,a.t,[o.h,o.k],null,null),(n()(),o.pb(13,0,null,0,6,\"ion-button\",[[\"expand\",\"block\"]],null,[[null,\"click\"]],function(n,l,t){var o=!0;return\"click\"===l&&(o=!1!==n.component.escaner()&&o),o},i.I,i.d)),o.ob(14,49152,null,0,a.j,[o.h,o.k],{expand:[0,\"expand\"]},null),(n()(),o.pb(15,0,null,0,1,\"ion-icon\",[[\"name\",\"build\"],[\"slot\",\"start\"]],null,null,null,i.T,i.o)),o.ob(16,49152,null,0,a.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(17,0,null,0,2,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(18,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Scan QR code App\"])),(n()(),o.pb(20,0,null,0,6,\"ion-button\",[[\"expand\",\"block\"]],null,[[null,\"click\"]],function(n,l,t){var o=!0;return\"click\"===l&&(o=!1!==n.component.camara()&&o),o},i.I,i.d)),o.ob(21,49152,null,0,a.j,[o.h,o.k],{expand:[0,\"expand\"]},null),(n()(),o.pb(22,0,null,0,1,\"ion-icon\",[[\"color\",\"medium\"],[\"name\",\"build\"],[\"slot\",\"start\"]],null,null,null,i.T,i.o)),o.ob(23,49152,null,0,a.B,[o.h,o.k],{color:[0,\"color\"],name:[1,\"name\"]},null),(n()(),o.pb(24,0,null,0,2,\"ion-label\",[],null,null,null,i.X,i.s)),o.ob(25,49152,null,0,a.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,[\"Camara\"])),(n()(),o.gb(16777216,null,0,1,null,k)),o.ob(28,16384,null,0,s.i,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null),(n()(),o.gb(16777216,null,0,1,null,v)),o.ob(30,16384,null,0,s.i,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null)],function(n,l){var t=l.component;n(l,14,0,\"block\"),n(l,16,0,\"build\"),n(l,21,0,\"block\"),n(l,23,0,\"medium\",\"build\"),n(l,28,0,t.Path),n(l,30,0,t.scanData)},null)}function x(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,\"app-home\",[],null,null,null,j,g)),o.ob(1,49152,null,0,f,[c.a,m.d,h.a,p.a,b.a,a.Eb],null,null)],null,null)}var y=o.lb(\"app-home\",f,x,{},{},[]),S=t(\"gIcY\"),E=t(\"ZYCi\");t.d(l,\"HomePageModuleNgFactory\",function(){return I});var I=o.mb(u,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[e.a,y]],[3,o.j],o.x]),o.xb(4608,s.k,s.j,[o.u,[2,s.r]]),o.xb(4608,S.o,S.o,[]),o.xb(4608,a.b,a.b,[o.z,o.g]),o.xb(4608,a.Fb,a.Fb,[a.b,o.j,o.q]),o.xb(4608,a.Jb,a.Jb,[a.b,o.j,o.q]),o.xb(1073742336,s.b,s.b,[]),o.xb(1073742336,S.m,S.m,[]),o.xb(1073742336,S.f,S.f,[]),o.xb(1073742336,a.Cb,a.Cb,[]),o.xb(1073742336,E.o,E.o,[[2,E.u],[2,E.m]]),o.xb(1073742336,u,u,[]),o.xb(1024,E.k,function(){return[[{path:\"\",component:f}]]},[])])})}}]);","extractedComments":[]}