{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Ikv3:function(n,l,e){\"use strict\";e.r(l);var o=e(\"CcnG\"),t=e(\"mrSG\"),u=e(\"ZZ/e\"),i=e(\"Wcq6\"),c=(e(\"iTTW\"),function(){function n(n,l,e,o,t,u){this.route=n,this.plataforma=l,this.router=e,this.navCtrl=o,this.alertController=t,this.http=u,this.ubicaciones=[],this.sede=[];var c=this;this.sede.nombre=this.route.snapshot.paramMap.get(\"sedeNombre\"),this.sede.key=this.route.snapshot.paramMap.get(\"sedekey\"),i.database().ref(\"ubicaciones/\"+this.sede.key).on(\"value\",function(n){c.ubicaciones=[];var l={};n.forEach(function(n){(l=n.val()).key=n.key,c.ubicaciones.push(l)}),c.ubicacionest=c.ubicaciones})}return n.prototype.onInput=function(n){this.ubicaciones=this.ubicacionest;var l=n.target.value;l&&\"\"!=l.trim()&&(this.ubicaciones=this.ubicaciones.filter(function(n){return n.nombre.toLowerCase().indexOf(l.toLowerCase())>-1}))},n.prototype.open=function(n){console.log(this.sede,n),this.navCtrl.navigateForward([\"sub-ubicaciones\",{ubicacionNombre:n.nombre,ubicacionkey:n.key,sedeNombre:this.sede.nombre,sedekey:this.sede.key}])},n.prototype.Editubicacion=function(n){return t.b(this,void 0,void 0,function(){var l,e,o=this;return t.e(this,function(u){switch(u.label){case 0:return l=this,e=this.ubicaciones.indexOf(n),[4,this.alertController.create({header:\"Ediar la ubicacion \"+n.nombre+\" !\",inputs:[{name:\"ubicacion\",type:\"text\",value:n.nombre,placeholder:\"Nombre de la ubicacion\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Edit Cancel\")}},{text:\"Ok\",handler:function(u){return t.b(o,void 0,void 0,function(){return t.e(this,function(o){switch(o.label){case 0:return console.log(e),[4,i.functions().httpsCallable(\"Editubicaciones\")({sedekey:l.sede.key,ubicacionkey:n.key,ubicacion:u.ubicacion}).then(function(n){console.log(\"Archivo editado: \",n)}).catch(function(n){console.log(\"Archivo editado error: \",n)})];case 1:return o.sent(),[2]}})})}}]})];case 1:return u.sent().present(),[2]}})})},n.prototype.Createubicacion=function(){return t.b(this,void 0,void 0,function(){var n=this;return t.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:\"ubicacion!\",inputs:[{name:\"ubicacion\",type:\"text\",placeholder:\"Nombre de la ubicacion\"}],buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Crear Cancel\")}},{text:\"Ok\",handler:function(l){return t.b(n,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,i.functions().httpsCallable(\"Createubicaciones\")({sedekey:this.sede.key,ubicacion:l.ubicacion}).then(function(n){console.log(\"Archivo editado: \",n)}).catch(function(n){console.log(\"Archivo editado error: \",n)})];case 1:return n.sent(),[2]}})})}}]})];case 1:return l.sent().present(),[2]}})})},n.prototype.Removeubicacion=function(n){return t.b(this,void 0,void 0,function(){var l,e=this;return t.e(this,function(o){switch(o.label){case 0:return l=this,[4,this.alertController.create({header:\"Cuidado!\",message:\"Se <strong>eliminar\\xe1</strong> la ubicacion \"+n.nombre+\" !!!\",buttons:[{text:\"cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(n){console.log(\"Eliminar Cancel: blah\")}},{text:\"eliminar\",handler:function(){return t.b(e,void 0,void 0,function(){return t.e(this,function(e){switch(e.label){case 0:return[4,i.functions().httpsCallable(\"Removeubicaciones\")({sedekey:l.sede.key,ubicacionkey:n.key}).then(function(n){console.log(\"Archivo editado: \",n)}).catch(function(n){console.log(\"Archivo editado error: \",n)})];case 1:return e.sent(),[2]}})})}}]})];case 1:return o.sent().present(),[2]}})})},n.prototype.ngOnInit=function(){},n}()),r=function(){return function(){}}(),a=e(\"pMnS\"),b=e(\"oBZk\"),s=e(\"gIcY\"),h=e(\"Ip0R\"),d=e(\"ZYCi\"),p=e(\"sE5F\"),f=o.nb({encapsulation:0,styles:[[\"ion-fab[_ngcontent-%COMP%]{margin:1em}ion-label[_ngcontent-%COMP%]{white-space:pre-wrap!important}\"]],data:{}});function m(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,21,\"ion-list\",[],null,null,null,b.fb,b.w)),o.ob(1,49152,null,0,u.N,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,19,\"ion-item-sliding\",[],null,null,null,b.cb,b.u)),o.ob(3,49152,null,0,u.L,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,7,\"ion-item\",[],null,[[null,\"click\"]],function(n,l,e){var o=!0;return\"click\"===l&&(o=!1!==n.component.open(n.context.$implicit)&&o),o},b.db,b.r)),o.ob(5,49152,null,0,u.G,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,2,\"ion-label\",[],null,null,null,b.eb,b.v)),o.ob(7,49152,null,0,u.M,[o.h,o.k],null,null),(n()(),o.Eb(8,0,[\"\",\"\"])),(n()(),o.pb(9,0,null,0,2,\"ion-note\",[[\"slot\",\"end\"]],null,null,null,b.jb,b.A)),o.ob(10,49152,null,0,u.W,[o.h,o.k],null,null),(n()(),o.Eb(11,0,[\"\",\" articulos\"])),(n()(),o.pb(12,0,null,0,9,\"ion-item-options\",[[\"side\",\"end\"]],null,null,null,b.bb,b.t)),o.ob(13,49152,null,0,u.K,[o.h,o.k],{side:[0,\"side\"]},null),(n()(),o.pb(14,0,null,0,3,\"ion-item-option\",[[\"color\",\"success\"]],null,[[null,\"click\"]],function(n,l,e){var o=!0;return\"click\"===l&&(o=!1!==n.component.Editubicacion(n.context.$implicit)&&o),o},b.ab,b.s)),o.ob(15,49152,null,0,u.J,[o.h,o.k],{color:[0,\"color\"]},null),(n()(),o.pb(16,0,null,0,1,\"ion-icon\",[[\"name\",\"more\"],[\"slot\",\"end\"]],null,null,null,b.X,b.o)),o.ob(17,49152,null,0,u.B,[o.h,o.k],{name:[0,\"name\"]},null),(n()(),o.pb(18,0,null,0,3,\"ion-item-option\",[[\"color\",\"danger\"]],null,[[null,\"click\"]],function(n,l,e){var o=!0;return\"click\"===l&&(o=!1!==n.component.Removeubicacion(n.context.$implicit)&&o),o},b.ab,b.s)),o.ob(19,49152,null,0,u.J,[o.h,o.k],{color:[0,\"color\"]},null),(n()(),o.pb(20,0,null,0,1,\"ion-icon\",[[\"name\",\"trash\"],[\"slot\",\"end\"]],null,null,null,b.X,b.o)),o.ob(21,49152,null,0,u.B,[o.h,o.k],{name:[0,\"name\"]},null)],function(n,l){n(l,13,0,\"end\"),n(l,15,0,\"success\"),n(l,17,0,\"more\"),n(l,19,0,\"danger\"),n(l,21,0,\"trash\")},function(n,l){n(l,8,0,l.context.$implicit.nombre),n(l,11,0,l.context.$implicit.cantidad)})}function k(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,17,\"ion-header\",[],null,null,null,b.W,b.n)),o.ob(1,49152,null,0,u.A,[o.h,o.k],null,null),(n()(),o.pb(2,0,null,0,11,\"ion-toolbar\",[],null,null,null,b.rb,b.I)),o.ob(3,49152,null,0,u.Ab,[o.h,o.k],null,null),(n()(),o.pb(4,0,null,0,6,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,b.N,b.e)),o.ob(5,49152,null,0,u.k,[o.h,o.k],null,null),(n()(),o.pb(6,0,null,0,1,\"ion-menu-button\",[],null,null,null,b.gb,b.y)),o.ob(7,49152,null,0,u.Q,[o.h,o.k],null,null),(n()(),o.pb(8,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],function(n,l,e){var t=!0;return\"click\"===l&&(t=!1!==o.zb(n,10).onClick(e)&&t),t},b.K,b.b)),o.ob(9,49152,null,0,u.f,[o.h,o.k],null,null),o.ob(10,16384,null,0,u.g,[[2,u.gb],u.Gb],null,null),(n()(),o.pb(11,0,null,0,2,\"ion-title\",[],null,null,null,b.qb,b.H)),o.ob(12,49152,null,0,u.yb,[o.h,o.k],null,null),(n()(),o.Eb(13,0,[\"\",\"\"])),(n()(),o.pb(14,0,null,0,3,\"ion-searchbar\",[[\"animated\",\"\"]],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],function(n,l,e){var t=!0,u=n.component;return\"ionBlur\"===l&&(t=!1!==o.zb(n,17)._handleBlurEvent()&&t),\"ionChange\"===l&&(t=!1!==o.zb(n,17)._handleInputEvent(e.target.value)&&t),\"ionChange\"===l&&(t=!1!==u.onInput(e)&&t),t},b.kb,b.B)),o.Bb(5120,null,s.g,function(n){return[n]},[u.Mb]),o.ob(16,49152,null,0,u.ib,[o.h,o.k],{animated:[0,\"animated\"]},null),o.ob(17,16384,null,0,u.Mb,[o.k],null,null),(n()(),o.pb(18,0,null,null,9,\"ion-content\",[],null,null,null,b.T,b.k)),o.ob(19,49152,null,0,u.t,[o.h,o.k],null,null),(n()(),o.gb(16777216,null,0,1,null,m)),o.ob(21,278528,null,0,h.h,[o.O,o.L,o.s],{ngForOf:[0,\"ngForOf\"]},null),(n()(),o.pb(22,0,null,0,5,\"ion-fab\",[[\"horizontal\",\"end\"],[\"slot\",\"fixed\"],[\"vertical\",\"bottom\"]],null,null,null,b.V,b.l)),o.ob(23,49152,null,0,u.v,[o.h,o.k],{horizontal:[0,\"horizontal\"],vertical:[1,\"vertical\"]},null),(n()(),o.pb(24,0,null,0,3,\"ion-fab-button\",[],null,[[null,\"click\"]],function(n,l,e){var o=!0;return\"click\"===l&&(o=!1!==n.component.Createubicacion()&&o),o},b.U,b.m)),o.ob(25,49152,null,0,u.w,[o.h,o.k],null,null),(n()(),o.pb(26,0,null,0,1,\"ion-icon\",[[\"name\",\"add\"]],null,null,null,b.X,b.o)),o.ob(27,49152,null,0,u.B,[o.h,o.k],{name:[0,\"name\"]},null)],function(n,l){var e=l.component;n(l,16,0,\"\"),n(l,21,0,e.ubicaciones),n(l,23,0,\"end\",\"bottom\"),n(l,27,0,\"add\")},function(n,l){n(l,13,0,l.component.sede.nombre)})}function v(n){return o.Fb(0,[(n()(),o.pb(0,0,null,null,1,\"app-ubicaciones\",[],null,null,null,k,f)),o.ob(1,114688,null,0,c,[d.a,u.Ib,d.m,u.Gb,u.a,p.d],null,null)],function(n,l){n(l,1,0)},null)}var g=o.lb(\"app-ubicaciones\",c,v,{},{},[]);e.d(l,\"UbicacionesPageModuleNgFactory\",function(){return y});var y=o.mb(r,[],function(n){return o.wb([o.xb(512,o.j,o.bb,[[8,[a.a,g]],[3,o.j],o.x]),o.xb(4608,h.k,h.j,[o.u,[2,h.r]]),o.xb(4608,s.o,s.o,[]),o.xb(4608,u.b,u.b,[o.z,o.g]),o.xb(4608,u.Fb,u.Fb,[u.b,o.j,o.q]),o.xb(4608,u.Jb,u.Jb,[u.b,o.j,o.q]),o.xb(1073742336,h.b,h.b,[]),o.xb(1073742336,s.m,s.m,[]),o.xb(1073742336,s.f,s.f,[]),o.xb(1073742336,u.Cb,u.Cb,[]),o.xb(1073742336,d.o,d.o,[[2,d.u],[2,d.m]]),o.xb(1073742336,r,r,[]),o.xb(1024,d.k,function(){return[[{path:\"\",component:c}]]},[])])})}}]);","extractedComments":[]}